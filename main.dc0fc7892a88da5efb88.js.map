{"version":3,"sources":["webpack:///./js/refs.js","webpack:///./js/pnotify/error-pnotify.js","webpack:///./js/fetchCountries.js","webpack:///./js/exceptions/requestError.js","webpack:///./js/clear.js","webpack:///./js/processingRequest.js","webpack:///./js/pnotify/notice-pnotify.js","webpack:///./js/markUp/countriesList.js","webpack:///./js/pnotify/success-pnotify.js","webpack:///./js/markUp/country.js","webpack:///./index.js","webpack:///./js/handlers/request.js","webpack:///./js/handlers/clearButton.js","webpack:///./js/handlers/countryClick.js","webpack:///./templates/country.hbs"],"names":["input","document","querySelector","countriesList","country","clearButton","message","error","title","text","modules","Map","Confirm","confirm","buttons","primary","click","notice","close","searchQuery","query","fetch","then","responce","json","status","errorPnotify","checkingRequestError","refs","children","length","innerHTML","target","fetchCountries","value","data","clear","insertAdjacentHTML","map","name","join","createCountriesList","createMarkUpCountriesList","success","countryTemplate","createMarkUpCountry","console","addEventListener","debounce","processingRequest","handlerRequest","textContent","Handlebars","module","exports","template","container","depth0","helpers","partials","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","escapeExpression","lambda","stack1","helper","alias1","nullContext","alias2","hooks","helperMissing","alias4","program","noop"],"mappings":"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","file":"main.dc0fc7892a88da5efb88.js","sourcesContent":["'use strict';\r\n\r\nexport default {\r\n  input: document.querySelector('#country-input'),\r\n  countriesList: document.querySelector('.js-countries-list'),\r\n  country: document.querySelector('.js-country'),\r\n  clearButton: document.querySelector('button[data-action=\"clear\"]'),\r\n};\r\n","'use strict';\r\n\r\nimport { error } from '@pnotify/core';\r\nimport '@pnotify/core/dist/PNotify.css';\r\nimport '@pnotify/core/dist/BrightTheme.css';\r\nimport * as Confirm from '@pnotify/confirm';\r\nimport '@pnotify/confirm/dist/PNotifyConfirm.css';\r\n\r\nexport default function (message) {\r\n  error({\r\n    title: 'Warning!',\r\n    text: message,\r\n    modules: new Map([\r\n      [\r\n        Confirm,\r\n        {\r\n          confirm: true,\r\n          buttons: [\r\n            {\r\n              text: 'Ok',\r\n              primary: true,\r\n              click: notice => {\r\n                notice.close();\r\n              },\r\n            },\r\n          ],\r\n        },\r\n      ],\r\n    ]),\r\n  });\r\n}\r\n","'use strict';\r\n\r\nimport checkingRequestError from '../js/exceptions/requestError';\r\n\r\nconst baseUrl = 'https://restcountries.eu/rest/v2/name/';\r\n\r\nexport default function (searchQuery) {\r\n  const query = fetch(baseUrl + searchQuery).then(responce => responce.json());\r\n  checkingRequestError(query);\r\n  return query;\r\n}\r\n","'use strict';\r\nimport errorPnotify from '../pnotify/error-pnotify';\r\n\r\nexport default function (query) {\r\n  query.then(json => {\r\n    if ('status' in json) {\r\n      let message;\r\n      switch (json.status) {\r\n        case 404:\r\n          message = 'You made an error in the request!';\r\n          break;\r\n\r\n        case 500:\r\n          message = 'Server error!';\r\n          break;\r\n      }\r\n      errorPnotify(`Error: ${json.status}! ${message}`);\r\n    }\r\n  });\r\n}\r\n","'use strict';\r\n\r\nimport refs from './refs';\r\n\r\n/*\r\n * clear all markup\r\n */\r\nexport default function () {\r\n  if (refs.countriesList.children.length > 0) {\r\n    clearCountriesList();\r\n  }\r\n  if (refs.country.children.length > 0) {\r\n    clearCountry();\r\n  }\r\n}\r\n\r\n/*\r\n * clear markup for countries list\r\n */\r\nfunction clearCountriesList() {\r\n  refs.countriesList.innerHTML = '';\r\n}\r\n\r\n/*\r\n * clear markup for country\r\n */\r\nfunction clearCountry() {\r\n  refs.country.innerHTML = '';\r\n}\r\n","'use strict';\r\n\r\nimport fetchCountries from './fetchCountries';\r\nimport errorPnotify from './pnotify/error-pnotify';\r\nimport noticePnotify from './pnotify/notice-pnotify';\r\nimport successPnotify from './pnotify/success-pnotify';\r\nimport clear from './clear';\r\nimport refs from './refs';\r\nimport createMarkUpCountriesList from './markUp/countriesList';\r\nimport createMarkUpCountry from './markUp/country';\r\n\r\n/*\r\n * processing request\r\n */\r\nexport default function (target) {\r\n  fetchCountries(target.value)\r\n    .then(data => {\r\n      clear();\r\n      if (data.length > 10) {\r\n        errorPnotify('Too many matches found. Please enter a more specific query!');\r\n      }\r\n      if (data.length >= 2 && data.length <= 10) {\r\n        noticePnotify();\r\n        createMarkUpCountriesList(data);\r\n      }\r\n      if (data.length === 1) {\r\n        successPnotify();\r\n        createMarkUpCountry(data);\r\n        refs.input.value = data[0].name;\r\n      }\r\n    })\r\n    .catch(error => {\r\n      console.error(error);\r\n    });\r\n}\r\n","'use strict';\r\n\r\nimport { notice } from '@pnotify/core';\r\n\r\nexport default function () {\r\n  notice({\r\n    text: 'Select a country!',\r\n  });\r\n}\r\n","'use strict';\r\n\r\nimport refs from '../refs';\r\n\r\n/*\r\n * draw markup for list countries\r\n */\r\nexport default function (data) {\r\n  refs.countriesList.insertAdjacentHTML('beforeend', createCountriesList(data));\r\n}\r\n\r\n/*\r\n * creating countries list\r\n */\r\nfunction createCountriesList(data) {\r\n  const countriesItems = data.map(country => `<li>${country.name}</li>`);\r\n  return countriesItems.join('');\r\n}\r\n","'use strict';\r\n\r\nimport { success } from '@pnotify/core';\r\n\r\nexport default function () {\r\n  success({\r\n    title: 'Ok!',\r\n    text: 'You found country!',\r\n  });\r\n}\r\n","'use strict';\r\n\r\nimport refs from '../refs';\r\nimport countryTemplate from '../../templates/country.hbs';\r\n\r\n/*\r\n * draw markup for country\r\n */\r\nexport default function (data) {\r\n  refs.country.insertAdjacentHTML('beforeend', countryTemplate(data[0]));\r\n}\r\n","'use strict';\n\nimport debounce from 'lodash.debounce';\nimport refs from './js/refs';\nimport handlerRequest from './js/handlers/request';\nimport handlerClearButton from './js/handlers/clearButton';\nimport handlerCountryClick from './js/handlers/countryClick';\nimport './css/styles.css';\n\n/*\n * listening for input every 500ms\n */\nrefs.input.addEventListener(\n  'input',\n  debounce(({ target }) => handlerRequest(target), 500),\n);\n\n/*\n * listening to click of \"Clear\" button\n */\nrefs.clearButton.addEventListener('click', handlerClearButton);\n\n/*\n * listening for click on list countries\n */\nrefs.countriesList.addEventListener('click', handlerCountryClick);\n","'use strict';\r\n\r\nimport processingRequest from '../processingRequest';\r\nimport clear from '../clear';\r\n\r\n/*\r\n * starting query handler from input\r\n */\r\nexport default function (target) {\r\n  target.value != '' ? processingRequest(target) : clear();\r\n}\r\n","'use strict';\r\n\r\nimport clear from '../clear';\r\nimport refs from '../refs';\r\n\r\n/*\r\n * starting handler clicking \"Clear\" button\r\n */\r\nexport default function () {\r\n  refs.input.value = '';\r\n  clear();\r\n}\r\n","'use strict';\r\n\r\nimport processingRequest from '../processingRequest';\r\n\r\n/*\r\n * starting handler clicking country\r\n */\r\nexport default function ({ target }) {\r\n  processingRequest({ value: target.textContent });\r\n}\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"        <li>\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<h2>\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":4},\"end\":{\"line\":1,\"column\":12}}}) : helper)))\n    + \"</h2>\\r\\n<div class=\\\"country-info\\\">\\r\\n    <p>Capital: <span>\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"capital\") || (depth0 != null ? lookupProperty(depth0,\"capital\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"capital\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":22},\"end\":{\"line\":3,\"column\":33}}}) : helper)))\n    + \"</span></p>\\r\\n    <p>Population: <span>\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"population\") || (depth0 != null ? lookupProperty(depth0,\"population\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"population\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":25},\"end\":{\"line\":4,\"column\":39}}}) : helper)))\n    + \"</span></p>\\r\\n    <p>Languages:</p>\\r\\n    <ul class=\\\"languages-list\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"languages\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":8},\"end\":{\"line\":9,\"column\":17}}})) != null ? stack1 : \"\")\n    + \"    </ul>\\r\\n</div>\\r\\n<div class=\\\"country-flag\\\">\\r\\n    <img src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"flag\") || (depth0 != null ? lookupProperty(depth0,\"flag\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"flag\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":14},\"end\":{\"line\":13,\"column\":22}}}) : helper)))\n    + \"\\\" alt=\\\"flag\\\" />\\r\\n</div>\";\n},\"useData\":true});"],"sourceRoot":""}